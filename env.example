# ========================================
# AUTH SERVICE - ENVIRONMENT VARIABLES
# ========================================
# Copy this file to .env and fill in your actual values
# cp env.example .env

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=5002
NODE_ENV=development

# ========================================
# JWT CONFIGURATION
# ========================================
# Generate strong secrets: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-32-chars-minimum
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-this-in-production-32-chars-minimum
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ========================================
# SESSION CONFIGURATION
# ========================================
SESSION_SECRET=your-super-secret-session-key-change-this-in-production-32-chars-minimum
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_MAX_AGE=86400000

# ========================================
# GOOGLE OAUTH CONFIGURATION
# ========================================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id-here
GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# ========================================
# FACEBOOK OAUTH CONFIGURATION (OPTIONAL)
# ========================================
# Get from: https://developers.facebook.com/apps/
FACEBOOK_APP_ID=your-facebook-app-id-here
FACEBOOK_APP_SECRET=your-facebook-app-secret-here

# ========================================
# SERVICE URLs
# ========================================
# Frontend URLs
CLIENT_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# Service URLs (for inter-service communication)
AUTH_SERVICE_URL=http://localhost:5002
DB_SERVICE_URL=http://localhost:5001
PAYMENT_SERVICE_URL=http://localhost:3004
AI_SERVICE_URL=http://localhost:5005
NOTIFICATION_SERVICE_URL=http://localhost:5006
METRICS_SERVICE_URL=http://localhost:5007

# ========================================
# EMAIL CONFIGURATION (for password reset)
# ========================================
# SendGrid Configuration
SENDGRID_API_KEY=your-sendgrid-api-key-here
FROM_EMAIL=noreply@nydartadvisor.com
FROM_NAME=NydArt Advisor

# Alternative: Nodemailer Configuration
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_SECURE=false

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ========================================
# SECURITY CONFIGURATION
# ========================================
TRUST_PROXY=1
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ========================================
# LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=info
LOG_FILE=logs/auth-service.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ========================================
# DATABASE CONFIGURATION
# ========================================
# MongoDB connection (if direct connection needed)
MONGODB_URI=mongodb://localhost:27017/art_advisor

# ========================================
# MONITORING CONFIGURATION
# ========================================
# Prometheus metrics
PROMETHEUS_PORT=9090
METRICS_ENDPOINT=/metrics

# ========================================
# TWO-FACTOR AUTHENTICATION (2FA)
# ========================================
# TOTP configuration
TOTP_ISSUER=NydArt Advisor
TOTP_ALGORITHM=SHA1
TOTP_DIGITS=6
TOTP_PERIOD=30

# ========================================
# PASSWORD POLICY
# ========================================
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# ========================================
# PRODUCTION OVERRIDES
# ========================================
# Uncomment and modify for production deployment
# NODE_ENV=production
# PORT=5002
# CLIENT_URL=https://yourdomain.com
# FRONTEND_URL=https://yourdomain.com
# AUTH_SERVICE_URL=https://auth.yourdomain.com
# DB_SERVICE_URL=https://db.yourdomain.com
# CORS_ORIGIN=https://yourdomain.com
# SESSION_COOKIE_SECURE=true

# ========================================
# DEVELOPMENT OVERRIDES
# ========================================
# Uncomment for development
# LOG_LEVEL=debug
# CORS_ORIGIN=http://localhost:3000,http://localhost:3001
# SESSION_COOKIE_SECURE=false

# ========================================
# TESTING CONFIGURATION
# ========================================
# Test database (for running tests)
TEST_MONGODB_URI=mongodb://localhost:27017/art_advisor_test
TEST_JWT_SECRET=test-jwt-secret-for-testing-only
TEST_GOOGLE_CLIENT_ID=test-google-client-id
TEST_GOOGLE_CLIENT_SECRET=test-google-client-secret

# ========================================
# NOTES
# ========================================
# 1. Generate strong secrets using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 2. For production, use HTTPS URLs and secure cookies
# 3. Keep your .env file secure and never commit it to version control
# 4. Use different secrets for each environment (dev, staging, prod)
# 5. Regularly rotate your secrets and API keys
# 6. Monitor your logs for security events
# 7. Set up proper backup and recovery procedures
